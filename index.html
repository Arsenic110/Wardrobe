<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arsen's Wardrobe</title>

    <meta property="og:title" content="Bunny's Website" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://arsen.icu/res/keith.png" />

    <meta property="og:description" content="Toggle my fit! Or no fit at all!" />
    <meta name="theme-color" content="#00CCFF">

    <style>

    body 
    {
        font-family: 'Segoe UI', Consolas;

        font-weight: lighter !important;

        min-width: var(--scrollbar-width);
        min-height: var(--scrollbar-height);

        background-color: #171717;
        color:white;
    }

    h1, h2, h3, h4, h5, h6, h7, h8
    {
        font-weight: inherit;
    }

    button
    {
        font-family: inherit;
        padding: 0.2rem 0.4rem;
        margin: 0.1rem -0.1em;
        border: 2px solid #373737;
        background-color: #171717;
        color:white;
    
        font-size: medium;
        transition: 0.2s;
    }
    button:hover
    {
        border: 2px solid #505050;
        background-color: #373737;
    }
    button:active
    {
        border: 2px solid #b5f19c;
        background-color: #007711;
    }

    pre
    {
        font-size: medium;

        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;
        white-space: -o-pre-wrap;
        word-wrap: break-word;
    }

    </style>
</head>
<body>
    <h1>Arsen's Wardrobe</h1>

    <div id="manual" style="display: none;">
        <p>Paste the IP I gave you: <textarea style="position:relative;top:0.2rem;resize:none;" id="ip-text" cols="16"  rows="1"></textarea> and click <button onclick="setUrl()">OK</button></p>
        <p>The networking is retarded though so do not spam it pls ty</p>
    </div>

    <div id="buttons">

    </div>

    <div>
        <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="auto" height="80vh" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
        viewBox="0 0 21000 29700"
        xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs>
                <style type="text/css">
                    .str1 {stroke:#373737;stroke-width:75}
                    .str0 {stroke:#373737;stroke-width:75;stroke-linecap:round;stroke-linejoin:round}
                    .fil0 {fill:none}
                    .fil1 {fill:#373737}
                </style>
            </defs>
            <g id="Layer_x0020_1">
                <metadata id="CorelCorpID_0Corel-Layer"/>
                <g id="_353780656">
                    <path class="fil0 str0" d="M9945 10494c258,241 522,261 793,94 271,167 536,147 794,-94"/>
                    <path id="Glasses" class="fil0 str1" d="M10338 9501c430,-108 364,-117 791,0m-1572 -789c431,0 781,353 781,789 0,435 -350,788 -781,788 -432,0 -782,-353 -782,-788 0,-436 350,-789 782,-789zm2353 0c431,0 781,353 781,789 0,435 -350,788 -781,788 -431,0 -781,-353 -781,-788 0,-436 350,-789 781,-789z"/>
                    <path class="fil0 str1" d="M9859 6025c-289,-1580 -362,-2632 -712,-4200 -195,-872 -707,-1471 -1055,-1775 -228,357 -574,1224 -631,1706 -146,1247 -115,2047 -59,3292 -79,33 -187,66 -266,99 148,383 336,701 510,926 -30,112 -86,214 -116,326 282,385 622,699 1035,926 203,-390 429,-734 710,-966 145,-2579 -208,-4718 -1193,-6299"/>
                    <path id="Hair" class="fil0 str1" d="M12725 11741c244,-268 364,-580 511,-901 847,-1861 -343,-4993 -2619,-4947 -1289,26 -1999,939 -2298,2297 -106,772 -130,1545 -79,2316 88,474 300,825 651,1035 -191,-722 -174,-1472 30,-2247 316,-716 708,-1367 1261,-1873 -1114,1552 -1331,2506 -1104,3164 189,-530 478,-1017 1035,-1390 616,-334 976,-854 1301,-1399 319,364 381,735 384,1126 110,-73 279,-186 257,-867 579,1114 695,1888 276,2267 159,-80 310,-187 443,-345 23,574 -236,987 -581,1350 308,-18 602,-85 778,-552 -30,335 -111,657 -246,966z"/>
                    <path class="fil0 str1" d="M9314 15310c-66,-440 -132,-880 -197,-1321 -290,132 -579,263 -868,395 -292,-428 -585,-855 -877,-1282 996,-797 1361,-1171 2543,-1666 381,322 1235,322 1617,0 1181,495 1546,869 2543,1666 -293,427 -585,854 -878,1282 -289,-132 -578,-263 -867,-395 -66,441 -131,881 -197,1321 -940,0 -1880,0 -2819,0z"/>
                    <path class="fil0 str0" d="M13419 14359l700 -1090c435,320 654,431 1207,895 552,463 1181,1146 2089,1725l669 71 869 121 -50 261 -702 5 252 199 924 455 -139 267 -817 -364 799 652 -190 242 -823 -582 593 678 -243 186 -638 -615 338 697 -262 68 -458 -707 -820 -938c-650,-629 -1530,-857 -2652,-1679 -228,-167 -431,-365 -646,-547z"/>
                    <path class="fil0 str0" d="M7982 14359l-700 -1090c-436,320 -655,431 -1207,895 -553,463 -1182,1146 -2090,1725l-669 71 -868 121 49 261 702 5 -252 199 -923 455 138 267 818 -364 -800 652 190 242 824 -582 -594 678 243 186 639 -615 -339 697 262 68 458 -707 821 -938c649,-629 1529,-857 2651,-1679 228,-167 431,-365 647,-547z"/>
                    <path class="fil0 str1" d="M11626 6068c289,-1580 370,-2675 720,-4243 194,-872 707,-1471 1055,-1775 227,357 574,1224 630,1706 147,1247 115,2047 60,3292 78,33 187,66 266,99 -148,383 -336,701 -510,926 29,112 86,214 115,326 -281,385 -622,699 -1035,926 -222,-375 -477,-652 -754,-907 -17,-2559 252,-4777 1237,-6358"/>
                    <path class="fil0 str1" d="M12297 2025c106,39 148,134 139,223 -9,88 -48,179 -216,173"/>
                    <path class="fil0 str1" d="M12597 2143c434,-18 868,-25 1301,-43 71,58 83,107 15,171 -455,13 -910,26 -1365,39"/>
                    <ellipse class="fil0 str1" cx="13921" cy="2968" rx="86" ry="200"/>
                    <path class="fil0 str1" d="M9555 15366c-60,979 -228,1107 -385,1528"/>
                    <path class="fil0 str1" d="M12002 15366c60,979 228,1107 385,1528"/>
                    <path class="fil0 str1" d="M10762 19633c-40,159 -84,319 -128,478 -805,-159 -1610,-319 -2415,-478 92,-1002 303,-1908 842,-2686 504,276 1124,411 1701,443 576,-32 1197,-167 1701,-443 539,778 750,1684 842,2686 -805,159 -1610,319 -2415,478 -44,-159 -89,-319 -128,-478z"/>
                    <path class="fil1 str0" d="M10845 16972c9,6 11,79 8,106 -5,36 -20,110 -42,110 -32,0 -46,-143 -45,-216 4,-169 24,-288 37,-395 -54,38 -82,330 -79,402 7,133 38,233 93,229 33,-2 57,-85 57,-133 0,-57 -18,-104 -29,-103z"/>
                    <path class="fil0 str1" d="M8652 23967c-194,-1372 -260,-1712 -315,-3154 758,144 1516,288 2274,431 -102,1343 -186,1610 -438,2834 -55,268 -37,547 -55,820 29,1318 -14,2649 86,4016 54,157 70,318 12,487 -61,144 -172,144 -320,116 -136,86 -264,76 -388,6 -125,75 -257,69 -394,-12 -151,42 -271,19 -351,-87 -50,-182 -46,-327 0,-522 249,-1377 190,-2667 61,-3992 -29,-304 -130,-640 -172,-943z"/>
                    <line class="fil0 str1" x1="8400" y1="20757" x2="8317" y2= "19707" />
                    <path class="fil0 str1" d="M10594 20172c-3,369 -41,639 -56,995"/>
                    <path class="fil0 str1" d="M12886 23967c194,-1372 260,-1712 315,-3154 -758,144 -1516,288 -2274,431 102,1343 186,1610 438,2834 55,268 37,547 55,820 -29,1318 14,2649 -86,4016 -54,157 -70,318 -12,487 61,144 172,144 320,116 136,86 264,76 388,6 125,75 257,69 394,-12 151,42 271,19 351,-87 50,-182 46,-327 0,-522 -249,-1377 -190,-2667 -61,-3992 29,-304 130,-640 172,-943z"/>
                    <line class="fil0 str1" x1="13138" y1="20757" x2="13221" y2= "19707" />
                    <path class="fil0 str1" d="M10944 20172c3,369 41,639 56,995"/>
                </g>
            </g>
        </svg>
    </div>

    <script>
        let theurl = "invalid";
        let thestatus = {};

        //attempt to get url params
        let params = window.location.href.split('=');
        let lastParam = params[params.length - 1];


        if(lastParam.split('.').length == 4 || true)
        {
            console.log("Autoloading", lastParam);
            setUrl(String(window.location.href), true);
        }
        else
            document.getElementById("manual").style.display = "block";

        function sendPostRequest(url, jsonData) 
        {
            jsonData = JSON.stringify(jsonData);
            //console.log(`sending POST: ${url} @ ${jsonData}`);
            fetch(url, 
            {
                method: 'POST',
                headers: 
                {
                    'Content-Type': 'application/json'
                },
                body: jsonData
            })
            .then(response => 
            {
                if (!response.ok) 
                {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => 
            {
                //console.log('POST request successful:', data);
                if(JSON.parse(jsonData).mode == "register")
                {
                    for(let d in data)
                    {
                        let e = document.createElement("BUTTON");
                        e.setAttribute('onclick', `sendPostRequest(theurl, { mode: "toggle", part: "${d}" })`);
                        e.innerHTML = `toggle ${d}`;
                        document.getElementById("buttons").appendChild(e);
                    }
                }
                else if (JSON.parse(jsonData).mode == "status")
                {
                    
                }
            })
            .catch(error => 
            {
                console.log('Error sending POST request:', error);
            });
        }

        function setUrl(url, raw)
        {
            if(!url)
                theurl = "http://" + document.getElementById("ip-text").value + ":8889";
            else if (!raw)
                theurl = `http://${url}:8889`;
            else
                theurl = url;

            sendPostRequest(theurl, { mode: "register" });
            //setInterval(() => {sendPostRequest(theurl, { mode: "status"})}, 1500);
        }

    </script>
</body>
</html>




